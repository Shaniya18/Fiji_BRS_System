@{
    ViewData["Title"] = "System Locked";
}

<div class="container mt-5 pt-5 text-center">
    <div class="card shadow-lg border-danger p-5">
        <i class="bi bi-shield-lock-fill text-danger" style="font-size: 5rem;"></i>
        <h2 class="fw-bold mt-3">SYSTEM LOCKED</h2>
        <p class="text-muted">Security protocol engaged due to excessive login failures.</p>

        <div class="alert alert-warning d-inline-block px-4 py-2 mt-3">
            Access Restored In: <strong id="timer">@ViewBag.LockoutMinutes:00</strong>
        </div>

        <hr />
        <a href="/Account/Login" class="btn btn-outline-secondary btn-sm mt-2">Return to Login Screen</a>
    </div>
</div>

<script>
    let minutes = @ViewBag.LockoutMinutes;
    let seconds = 0;
    setInterval(() => {
        if (seconds === 0 && minutes > 0) { minutes--; seconds = 59; }
        else if (seconds > 0) { seconds--; }
        document.getElementById('timer').innerText = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        if (minutes === 0 && seconds === 0) location.reload();
    }, 1000);
</script>